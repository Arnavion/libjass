<?xml version="1.0" encoding="utf-8" ?>
<!--
  libjass

  https://github.com/Arnavion/libjass

  Copyright 2013 Arnav Singh

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<!--
 This is a demo page for the libjass library - a library for displaying ASS subtitles on HTML5 video.
 See index.js for an explanation of how to use the library.
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
	<head>
		<title>libjass demo</title>
		<link rel="stylesheet" href="libjass.css" />
		<link rel="stylesheet" href="index.css" />
		<script src="libjass.js" />
		<script src="index.js" />
		<script src="dummy-video.js" />
	</head>
	<body>
		<p>This is a demo page for the libjass library - a library for displaying ASS subtitles on HTML5 video. See the source of index.js for an explanation of how to use the library.</p>

		<!-- Default look of the page - input controls to let the user choose a video and an ASS script. -->
		<div id="content">
			<fieldset>
				<legend>Choose a video</legend>
				<ul class="choices-list">
					<li>
						<label>
							<input type="radio" id="video-choice-local-file" name="video-choice" />
							Local file (The file won't be uploaded. It will be used directly within your browser.)
						</label>
						<input type="file" id="video-input-local-file" />
					</li>
					<li>
						<label>
							<input type="radio" id="video-choice-url" name="video-choice" />
							Direct video URL (webm / MP4)
						</label>
						<input type="url" id="video-input-url" />
					</li>
					<li>
						<label>
							<input type="radio" id="video-choice-sample" name="video-choice" />
							Sample video (75s long 1280x720, meant to be used with the default "Text" ASS option below)
						</label>
					</li>
					<li>
						<label>
							<input type="radio" id="video-choice-dummy" name="video-choice" />
							Dummy video
						</label>
						<select id="video-input-dummy-resolution">
							<option value="640x480">640 x 480 (SD fullscreen)</option>
							<option value="704x480">704 x 480 (SD anamorphic)</option>
							<option value="640x360">640 x 360 (SD widescreen)</option>
							<option value="704x396">704 x 396 (SD widescreen)</option>
							<option value="640x352">640 x 352 (SD widescreen MOD16)</option>
							<option value="704x400">704 x 400 (SD widescreen MOD16)</option>
							<option value="1280x720" selected="selected">1280 x 720 (HD 720p)</option>
							<option value="1920x1080">1920 x 1080 (HD 1080p)</option>
							<option value="1024x576">1024 x 576 (SuperPAL widescreen)</option>
						</select>
						<input type="color" id="video-input-dummy-color" value="#2fa3fe"></input>
						<label><input type="number" id="video-input-dummy-duration" value="25"></input> mins</label>
					</li>
				</ul>
			</fieldset>
			<fieldset>
				<legend>Choose an ASS script</legend>
				<ul class="choices-list">
					<li>
						<label>
							<input type="radio" id="ass-choice-local-file" name="ass-choice" />
							Local file (The file won't be uploaded. It will be used directly within your browser.)
						</label>
						<input type="file" id="ass-input-local-file" />
					</li>
					<li>
						<label>
							<input type="radio" id="ass-choice-url" name="ass-choice" />
							Direct script URL (must be accessible via CORS)
						</label>
						<input type="url" id="ass-input-url" />
					</li>
					<li>
						<label>
							<input type="radio" id="ass-choice-text" name="ass-choice" />
							Text
						</label>
						<textarea id="ass-input-text"><![CDATA[[Script Info]
; Script generated by Aegisub 2.1.8
; http://www.aegisub.org/
Title:   Default Aegisub file
ScriptType: v4.00+
WrapStyle:   0
PlayResX:   1280
PlayResY:   720
ScaledBorderAndShadow:   yes
Collisions:   Normal
Video Aspect Ratio: 0
Video Zoom: 6
Video Position: 0

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,Arial,50,&H00F1F4F9,&H000000FF,&H000F1115,&H96000000,0,0,0,0,100,100,0,0,1,1.5,0,2,80,80,35,1

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:00.00,0:01:15.00,Default,,0000,0000,0000,,{\an8}This is a sample ASS file\Nthat showcases some of libjass's capabilities.
Dialogue: 0,0:00:05.00,0:00:10.00,Default,,0000,0000,0000,,{\c&H0000FF&}Red text with \c
Dialogue: 0,0:00:10.00,0:00:15.00,Default,,0000,0000,0000,,{\c&H0000FF&\3c&H00FF00&}Red text with green outline with \c and \3c
Dialogue: 0,0:00:15.00,0:00:20.00,Default,,0000,0000,0000,,{\alpha&H80&}Translucent text with \alpha
Dialogue: 0,0:00:20.00,0:00:25.00,Default,,0000,0000,0000,,{\fad(2000,2000)}Fade-in and out text with \fad
Dialogue: 0,0:00:25.00,0:00:30.00,Default,,0000,0000,0000,,{\move(0,0,1280,720)}Moving text with \mov
Dialogue: 0,0:00:30.00,0:00:35.00,Default,,0000,0000,0000,,{\pos(640,360)}Positioned text with \pos
Dialogue: 0,0:00:35.00,0:00:40.00,Default,,0000,0000,0000,,{\i1}Italic,{\i} {\u1}underlined{\u} and {\s1}strikeout{\s} text with \i, \u and \s
Dialogue: 0,0:00:40.00,0:00:45.00,Default,,0000,0000,0000,,{\bord10}Borders with \bord
Dialogue: 0,0:00:45.00,0:00:50.00,Default,,0000,0000,0000,,{\shad10}Shadows with \shad
Dialogue: 0,0:00:50.00,0:00:55.00,Default,,0000,0000,0000,,{\fs20}Tiny text{\fs} and {\fs100}large text{\fs} with \fs
Dialogue: 0,0:00:55.00,0:01:00.00,Default,,0000,0000,0000,,{\fscx200}Wide text{\fscx} and {\fscy200}tall text{\fscy} with \fscx and \fscy
Dialogue: 0,0:01:00.00,0:01:05.00,Default,,0000,0000,0000,,{\pos(640,360)\frz60}Rotated text with \frz
Dialogue: 0,0:01:05.00,0:01:10.00,Default,,0000,0000,0000,,{\pos(640,360)\t(\frz720)}You spin me right round baby right round
Dialogue: 0,0:01:05.00,0:01:10.00,Default,,0000,0000,0000,,Spinning text with \t and \frz
Dialogue: 0,0:01:10.00,0:01:15.00,Default,,0000,0000,0000,,The End
]]></textarea>
					</li>
				</ul>
			</fieldset>
			<button type="button" id="go-button" disabled="disabled">Go</button>
		</div>

		<fieldset id="console">
			<legend>
				Console output
				<label>
					<input type="checkbox" id="debug-mode" />
					Enable debug mode
				</label>
				<label>
					<input type="checkbox" id="verbose-mode" />
					Enable verbose mode
				</label>
			</legend>
		</fieldset>

		<div>
			<p>Found a bug? Please check if there's already a similar issue already reported at <a href="https://github.com/Arnavion/libjass/issues">https://github.com/Arnavion/libjass/issues</a> If there isn't, please open a new issue. You can also report it in the #libjass channel on the Rizon IRC network.</p>
			<p>Please include the following information in your bug report:
				<ul>
					<li>Your OS and browser versions. Eg: "Chrome 49 on Windows 7"</li>
					<li>A description of the bug. What did you expect to see? What happened instead? Eg: "All the subtitles are visible except the one at 00:00:05 'Was it you who broke the clock?'" or "The subtitle at 00:00:05 should be red but instead it's blue."</li>
					<li>If possible, a URL to the video and script that I can access for testing.</li>
					<li>Any text from the "Console output" section above.</li>
				</ul>
			</p>
		</div>

		<script type="text/template" id="template">
			<!-- The video element that will be generated -->
			<video data-id="video" controls="" />

			<!-- These controls will be placed next to the video to allow changing its size, and for turning the subs off and on. -->
			<form data-id="settings-form">
				<fieldset>
					<legend>Video size</legend>
					<div data-id="video-size-selector">
						<label>
							<input type="radio" name="video-size" data-id="video-size-video-radio" checked="checked" />
							Video resolution <span data-id="video-resolution-label-width" />x<span data-id="video-resolution-label-height" />
						</label>
						<label>
							<input type="radio" name="video-size" data-id="video-size-script-radio" />
							Script resolution <span data-id="script-resolution-label-width" />x<span data-id="script-resolution-label-height" />
						</label>
					</div>
				</fieldset>
				<fieldset>
					<legend>Subtitles</legend>
					<label>
						<input type="checkbox" data-id="enable-disable-subs" checked="checked" />
						Subtitles
					</label>
				</fieldset>
			</form>
		</script>
	</body>
</html>
